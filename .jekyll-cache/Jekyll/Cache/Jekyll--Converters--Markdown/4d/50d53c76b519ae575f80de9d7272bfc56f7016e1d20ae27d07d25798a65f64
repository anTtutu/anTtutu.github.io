I"Ğ6<h2 id="ä¹‹å‰å·¥ä½œç»å¸¸æœé›†awræ—¥å¿—ä½†æ˜¯å› å·¥ä½œç¯å¢ƒçš„è°ƒæ•´6å¹´ä¸‹æ¥çš„ç¬”è®°éƒ½æ— æ³•å¸¦å‡ºæ¥åªèƒ½å›å¿†ä¸€äº›å’Œæ‰¾ä¸€äº›ç½‘ä¸Šçš„ä¿¡æ¯æ•´ç†äº†">ä¹‹å‰å·¥ä½œç»å¸¸æœé›†AWRæ—¥å¿—ï¼Œä½†æ˜¯å› å·¥ä½œç¯å¢ƒçš„è°ƒæ•´ï¼Œ6å¹´ä¸‹æ¥çš„ç¬”è®°éƒ½æ— æ³•å¸¦å‡ºæ¥ï¼Œåªèƒ½å›å¿†ä¸€äº›å’Œæ‰¾ä¸€äº›ç½‘ä¸Šçš„ä¿¡æ¯æ•´ç†äº†ã€‚</h2>

<h4 id="å¸¸è§„çš„æ€§èƒ½åˆ†æawrè¶³å¤Ÿäº†ä½†æ˜¯æ·±å±‚æ¬¡çš„é—®é¢˜éœ€è¦æ›´å¤šçš„æ—¥å¿—ä¸‹é¢æ•´ç†ä¸‹awrashaddmæ—¥å¿—çš„æ‰‹å·¥æå–æ–¹å¼">å¸¸è§„çš„æ€§èƒ½åˆ†æï¼Œawrè¶³å¤Ÿäº†ï¼Œä½†æ˜¯æ·±å±‚æ¬¡çš„é—®é¢˜ï¼Œéœ€è¦æ›´å¤šçš„æ—¥å¿—ï¼Œä¸‹é¢æ•´ç†ä¸‹awrã€ashã€addmæ—¥å¿—çš„æ‰‹å·¥æå–æ–¹å¼</h4>

<h2 id="ä¸€awræŠ¥å‘Šå¼€å¯å’Œæå–æ“ä½œæ­¥éª¤">ä¸€ã€awræŠ¥å‘Šå¼€å¯å’Œæå–æ“ä½œæ­¥éª¤:</h2>

<h4 id="å‰ææ¡ä»¶æ•°æ®åº“ä¸ºoracle-10gä»¥ä¸Šç‰ˆæœ¬">å‰ææ¡ä»¶æ•°æ®åº“ä¸ºOracle 10gä»¥ä¸Šç‰ˆæœ¬ã€‚</h4>

<h4 id="èƒŒæ™¯ä¿¡æ¯">èƒŒæ™¯ä¿¡æ¯</h4>

<h4 id="oracleé»˜è®¤å¿«ç…§1å°æ—¶ç”Ÿæˆä¸€æ¬¡ä¿æŒ7å¤©å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´å¿«ç…§ç”Ÿæˆçš„é¢‘ç‡ä¿æŒæ—¶é•¿å¦‚æœè¦æ‰‹å·¥ç”Ÿæˆå¿«ç…§åˆ™ç”¨">Oracleé»˜è®¤å¿«ç…§1å°æ—¶ç”Ÿæˆä¸€æ¬¡ã€ä¿æŒ7å¤©ï¼Œå¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´å¿«ç…§ç”Ÿæˆçš„é¢‘ç‡ã€ä¿æŒæ—¶é•¿ã€‚å¦‚æœè¦æ‰‹å·¥ç”Ÿæˆå¿«ç…§ï¼Œåˆ™ç”¨</h4>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~&gt; sqlplus / as sysdba;ç™»å½•æ•°æ®åº“æ‰§è¡Œå‘½ä»¤ï¼š
SQL&gt; exec dbms_workload_repository.create_snapshot();
</code></pre></div></div>
<h3 id="æ­¥éª¤-1-ä»¥oracleç”¨æˆ·ç™»å½•æ“ä½œç³»ç»Ÿ">æ­¥éª¤ 1 ä»¥oracleç”¨æˆ·ç™»å½•æ“ä½œç³»ç»Ÿã€‚</h3>
<h3 id="æ­¥éª¤-2-ç™»å½•æ•°æ®åº“">æ­¥éª¤ 2 ç™»å½•æ•°æ®åº“ã€‚</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~&gt; sqlplus / as sysdba;
ç™»å½•æˆåŠŸåï¼Œè¿”å›ä¿¡æ¯å¦‚ä¸‹ï¼š
SQL*Plus: Release 11.1.0.7.0 - Production on Mon Jul 22 09:52:46 2013
 
Copyright (c) 1982, 2008, Oracle.  All rights reserved.
 
Connected to:
Oracle Database 11g Enterprise Edition Release 11.1.0.7.0 - 64bit Production
With the Partitioning, Oracle Label Security, OLAP, Data Mining,
Oracle Database Vault and Real Application Testing options
</code></pre></div></div>
<h3 id="æ­¥éª¤-3-ç”ŸæˆawræŠ¥è¡¨">æ­¥éª¤ 3 ç”ŸæˆAWRæŠ¥è¡¨ã€‚</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1. å¼€å§‹æ”¶é›†AWRæŠ¥è¡¨
SQL&gt; @?/rdbms/admin/awrrpt.sql;
è¯´æ˜ï¼š
å¯¹æŸäº›ç³»ç»Ÿï¼Œ@ç‰¹æ®Šå­—ç¬¦å‰é¢å¯èƒ½éœ€è¦è½¬ä¹‰å­—ç¬¦\ï¼Œæ‰èƒ½è¿è¡Œè¯¥å‘½ä»¤ã€‚è¯·è¿è¡Œå‘½ä»¤ï¼šSQL&gt; \@?/rdbms/admin/awrrpt.sql;
è¿”å›ä¿¡æ¯æ˜¾ç¤ºå¦‚ä¸‹ï¼š
Current Instance 
~~~~~~~~~~~~~~~~
   DB Id    DB Name      Inst Num Instance
----------- ------------ -------- ------------
 4188289306 ORA11G              1 ora11g
 
Specify the Report Type
~~~~~~~~~~~~~~~~~~~~~~~
Would you like an HTML report, or a plain text report?
Enter 'html' for an HTML report, or 'text' for plain text
Defaults to 'html'
Enter value for report_type:

2. è¾“å…¥æŠ¥è¡¨çš„æ ¼å¼ï¼Œæœ‰HTMLæ ¼å¼ã€TEXTæ ¼å¼ï¼Œé»˜è®¤HTMLæ ¼å¼ã€‚
ä¾‹å¦‚è¾“å…¥æ ¼å¼ä¸ºhtmlï¼Œè¿”å›ä¿¡æ¯å¦‚ä¸‹ï¼š
Type Specified:  html
 
Instances in this Workload Repository schema
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 
 DB Id     Inst Num DB Name      Instance     Host
------------ -------- ------------ ------------ ------------
* 4188289306        1 ORA11G       ora11g       linux_lbi_02
 
Using 4188289306 for database Id
Using          1 for instance number
 
Specify the number of days of snapshots to choose from
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Entering the number of days (n) will result in the most recent
(n) days of snapshots being listed.  Pressing &lt;return&gt; without
specifying a number lists all completed snapshots.
 
Enter value for num_days:1

3. è¾“å…¥ä¸€ä¸ªå¤©æ•°ï¼ŒOracleä¼šåˆ—å‡ºæŒ‡å®šå¤©æ•°çš„æ‰€æœ‰å¿«ç…§ä¿¡æ¯ã€‚
ä¾‹å¦‚è¾“å…¥ä¸€ä¸ªå¤©æ•°ä¸º1ï¼Œè¿”å›ä¿¡æ¯å¦‚ä¸‹ï¼š
Listing the last day's Completed Snapshots
                       Snap
Instance     DB Name        Snap Id    Snap Started    Level
------------ ------------ --------- ------------------ -----
ora11g       ORA11G            3166 22 Jul 2013 00:00      1
                               3167 22 Jul 2013 01:00      1
                               3168 22 Jul 2013 02:00      1
                               3169 22 Jul 2013 03:00      1
                               3170 22 Jul 2013 04:00      1
                               3171 22 Jul 2013 05:00      1
                               3172 22 Jul 2013 06:00      1
                               3173 22 Jul 2013 07:00      1
                               3174 22 Jul 2013 08:00      1
                               3175 22 Jul 2013 09:00      1
Specify the Begin and End Snapshot Ids
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Enter value for begin_snap:

4. è¾“å…¥èµ·å§‹snap Idå’Œç»“æŸsnap Idï¼Œæ”¶é›†ä¸¤ä¸ªæ—¶åˆ»é—´æ®µçš„æ•°æ®åº“æ€§èƒ½æ•°æ®ã€‚
èµ·å§‹snap Idå’Œç»“æŸsnap Idè¿™ä¸¤ä¸ªæ—¶é—´æ®µä¹‹é—´ï¼Œä¸èƒ½å…³é—­æˆ–å¯åŠ¨æ•°æ®åº“ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚
æ³¨æ„ï¼š
ä¾‹å¦‚è¾“å…¥èµ·å§‹snap Idä¸º3166ï¼Œç»“æŸsnap Idä¸º3168ï¼Œè¿”å›ä¿¡æ¯å¦‚ä¸‹ï¼š
Specify the Begin and End Snapshot Ids 
Enter value for begin_snap: 3166
Begin Snapshot Id specified: 3166 
Enter value for end_snap: 3168
End   Snapshot Id specified: 3168 
Specify the Report Name
~~~~~~~~~~~~~~~~~~~~~~~
The default report file name is awrrpt_1_3166_3168.html.  To use this name,
press &lt;return&gt; to continue, otherwise enter an alternative.
Enter value for report_name:

5. è¾“å…¥æŠ¥è¡¨å
é»˜è®¤ä»¥snap Idå‘½åï¼Œå¯ä»¥ä¸è¾“å…¥ã€‚
å¦‚ä¸‹æ‰€ç¤ºä¸ºç”Ÿæˆçš„AWRæŠ¥è¡¨æ ·ä¾‹ï¼š
Report written to awrrpt_1_3166_3168.html
</code></pre></div></div>
<h3 id="æ­¥éª¤-4-å¦‚æœæ²¡æŒ‡å®šç›®å½•å’Œæ–‡ä»¶åç”Ÿæˆçš„awræŠ¥è¡¨åœ¨å½“å‰ç›®å½•æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹">æ­¥éª¤ 4 å¦‚æœæ²¡æŒ‡å®šç›®å½•å’Œæ–‡ä»¶åï¼Œç”Ÿæˆçš„AWRæŠ¥è¡¨åœ¨å½“å‰ç›®å½•ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹ã€‚</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1. å›åˆ°å½“å‰ç›®å½•ã€‚
SQL&gt; host;

2. æŸ¥çœ‹æŠ¥è¡¨ã€‚
~&gt; ls
è¿”å›ä¿¡æ¯æ˜¾ç¤ºå¦‚ä¸‹ï¼š
awrrpt_1_3166_3168.html
----ç»“æŸ
</code></pre></div></div>

<h2 id="äºŒashæŠ¥å‘Šå¼€å¯å’Œæå–æ“ä½œæ­¥éª¤">äºŒã€ashæŠ¥å‘Šå¼€å¯å’Œæå–æ“ä½œæ­¥éª¤:</h2>
<h4 id="æ”¶é›†æ´»åŠ¨ä¼šè¯çš„å†å²ä¿¡æ¯çŸ­æš‚çš„æ€§èƒ½é—®é¢˜æ¯”å¦‚åªæ˜¯æŒç»­å‡ åˆ†é’Ÿçš„æ€§èƒ½é—®é¢˜ç‰¹å®šæ—¶æ®µçš„æ•°æ®åº“è¿è¡Œçš„æ€§èƒ½çŠ¶æ€ä¿¡æ¯ä»¥åŠé’ˆå¯¹ç‰¹å®šçš„æ¨¡å—sql_idsession_idserviceç­‰æ¥æ”¶é›†çš„æ€§èƒ½çŠ¶æ€ä¿¡æ¯">æ”¶é›†æ´»åŠ¨ä¼šè¯çš„å†å²ä¿¡æ¯ã€çŸ­æš‚çš„æ€§èƒ½é—®é¢˜ï¼ˆæ¯”å¦‚åªæ˜¯æŒç»­å‡ åˆ†é’Ÿçš„æ€§èƒ½é—®é¢˜ï¼‰ã€ç‰¹å®šæ—¶æ®µçš„æ•°æ®åº“è¿è¡Œçš„æ€§èƒ½çŠ¶æ€ä¿¡æ¯ï¼Œä»¥åŠé’ˆå¯¹ç‰¹å®šçš„æ¨¡å—ã€SQL_IDã€SESSION_IDã€serviceç­‰æ¥æ”¶é›†çš„æ€§èƒ½çŠ¶æ€ä¿¡æ¯ã€‚</h4>
<h4 id="èƒŒæ™¯ä¿¡æ¯-1">èƒŒæ™¯ä¿¡æ¯</h4>
<h4 id="ashæ¯ç§’é’Ÿæ”¶é›†ä¸€æ¬¡å½“å‰å¤„äºéç©ºé—²ç­‰å¾…äº‹ä»¶çš„æ´»åŠ¨çŠ¶æ€çš„sessionçš„ä¿¡æ¯ä¸æ”¶é›†ç©ºé—²çš„ä¼šè¯">ASHæ¯ç§’é’Ÿæ”¶é›†ä¸€æ¬¡å½“å‰å¤„äºéç©ºé—²ç­‰å¾…äº‹ä»¶çš„ã€æ´»åŠ¨çŠ¶æ€çš„sessionçš„ä¿¡æ¯ï¼Œä¸æ”¶é›†ç©ºé—²çš„ä¼šè¯ã€‚</h4>

<h3 id="æ­¥éª¤-1-ä»¥oracleç”¨æˆ·ç™»å½•æ“ä½œç³»ç»Ÿ-1">æ­¥éª¤ 1 ä»¥Oracleç”¨æˆ·ç™»å½•æ“ä½œç³»ç»Ÿã€‚</h3>
<h3 id="æ­¥éª¤-2-ç™»å½•æ•°æ®åº“-1">æ­¥éª¤ 2 ç™»å½•æ•°æ®åº“ã€‚</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>:~&gt; sqlplus / as sysdba; 
</code></pre></div></div>
<h3 id="æ­¥éª¤-3-ç”ŸæˆashæŠ¥è¡¨">æ­¥éª¤ 3 ç”ŸæˆASHæŠ¥è¡¨</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1. å¼€å§‹æ”¶é›†ASHæŠ¥è¡¨ã€‚
SQL&gt; @?/rdbms/admin/ashrpt.sql;
å¯¹æŸäº›ç³»ç»Ÿï¼Œ@ç‰¹æ®Šå­—ç¬¦å‰é¢å¯èƒ½éœ€è¦è½¬ä¹‰å­—ç¬¦\ï¼Œæ‰èƒ½è¿è¡Œè¯¥å‘½ä»¤ã€‚è¯·è¿è¡Œå‘½ä»¤ï¼šSQL&gt; \@?/rdbms/admin/awrrpt.sql;
è¿”å›ä¿¡æ¯æ˜¾ç¤ºå¦‚ä¸‹ï¼š
SQL&gt; @?/rdbms/admin/ashrpt.sql;
Current Instance
~~~~~~~~~~~~~~~~
   DB Id    DB Name      Inst Num Instance
----------- ------------ -------- ------------
 4188289306 ORA11G              1 ora11g 
Specify the Report Type
~~~~~~~~~~~~~~~~~~~~~~~
Enter 'html' for an HTML report, or 'text' for plain text
Defaults to 'html'
Enter value for report_type:

2. è¾“å…¥æŠ¥è¡¨çš„æ ¼å¼ï¼Œæœ‰HTMLæ ¼å¼ã€TEXTæ ¼å¼ï¼Œé»˜è®¤HTMLæ ¼å¼ã€‚
ä¾‹å¦‚è¾“å…¥æ ¼å¼ä¸ºhtmlï¼Œè¿”å›ä¿¡æ¯å¦‚ä¸‹ï¼š
Type Specified:  html
Instances in this Workload Repository schema
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
   DB Id     Inst Num DB Name      Instance     Host
------------ -------- ------------ ------------ ------------
* 4188289306        1 ORA11G       ora11g       linux_lbi_02
Defaults to current database
Using database id: 4188289306
Defaults to current instance
Using instance number: 1
ASH Samples in this Workload Repository schema
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Oldest ASH sample available:  22-Jul-13 08:00:43   [  11641 mins in the past]
Latest ASH sample available:  30-Jul-13 10:00:28   [      1 mins in the past]
Specify the timeframe to generate the ASH report
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Enter begin time for report:
--    Valid input formats:
--      To specify absolute begin time:
--        [MM/DD[/YY]] HH24:MI[:SS]
--        Examples: 02/23/03 14:30:15
--                  02/23 14:30:15
--                  14:30:15
--                  14:30
--      To specify relative begin time: (start with '-' sign)
--        -[HH24:]MI
--        Examples: -1:15  (SYSDATE - 1 Hr 15 Mins)
--                  -25    (SYSDATE - 25 Mins)
Defaults to -15 mins
Enter value for begin_time: 07/29/2013 19:00:00

3. æŒ‰ç…§æç¤ºçš„æœ‰æ•ˆæ ¼å¼è¾“å…¥æ”¶é›†ä¿¡æ¯çš„å¼€å§‹æ—¶é—´ã€‚
æœ‰æ•ˆæ ¼å¼æœ‰ï¼š
aã€å…·ä½“çš„æ—¥æœŸå’Œæ—¶é—´ï¼Œå¦‚02/23/03 14:30:15ã€‚
bã€å½“å¤©çš„æŸä¸ªæ—¶é—´ï¼Œå¦‚14:30:15æˆ–14:30ã€‚
cã€ç›¸å¯¹æ—¶é—´ï¼Œå¦‚è·å½“å‰æ—¶é—´1ä¸ªåŠå°æ—¶è¾“å…¥-1:30ï¼Œè·å½“å‰æ—¶é—´15åˆ†é’Ÿè¾“å…¥-15ã€‚
ä¾‹å¦‚è¾“å…¥æ—¶é—´07/29/2013 19:00:00ï¼Œè¿”å›ä¿¡æ¯å¦‚ä¸‹ï¼š
Report begin time specified: 07/29/2013 19:00:00
Enter duration in minutes starting from begin time:
Defaults to SYSDATE - begin_time
Press Enter to analyze till current time
Enter value for duration: 20

4. è¾“å…¥éœ€è¦æ”¶é›†ä¿¡æ¯çš„æ—¶é—´è·¨åº¦ï¼Œå•ä½ä¸ºåˆ†é’Ÿã€‚
å¦‚ä¸Šæ‰€ç¤ºï¼Œæ”¶é›†ä¿¡æ¯çš„æ—¶é—´è·¨åº¦ä¸º20åˆ†é’Ÿã€‚
è¿”å›ä¿¡æ¯å¦‚ä¸‹ï¼š
Report duration specified:   20
Using 29-Jul-13 19:00:00 as report begin time
Using 29-Jul-13 19:20:00 as report end time
â€¦â€¦â€¦â€¦â€¦â€¦.
Specify the Report Name
~~~~~~~~~~~~~~~~~~~~~~~
The default report file name is ashrpt_1_0729_1920.html.  To use this name,
press &lt;return&gt; to continue, otherwise enter an alternative.
Enter value for report_name:

5. è¾“å…¥æŠ¥è¡¨åï¼Œé»˜è®¤ä»¥â€œashrpt_instance_Id_æ—¥æœŸ_æ—¶é—´â€å‘½åï¼Œå¯ä»¥ä¸è¾“å…¥ã€‚
å¦‚ä¸‹æ‰€ç¤ºä¸ºç”Ÿæˆçš„ASHæŠ¥è¡¨æ ·ä¾‹ï¼š
Report written to ashrpt_1_0729_1920.html
</code></pre></div></div>
<h3 id="æ­¥éª¤-4-å¦‚æœæ²¡æŒ‡å®šç›®å½•å’Œæ–‡ä»¶åç”Ÿæˆçš„ashæŠ¥è¡¨åœ¨å½“å‰ç›®å½•æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹">æ­¥éª¤ 4 å¦‚æœæ²¡æŒ‡å®šç›®å½•å’Œæ–‡ä»¶åï¼Œç”Ÿæˆçš„ASHæŠ¥è¡¨åœ¨å½“å‰ç›®å½•ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹ã€‚</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1. å›åˆ°å½“å‰ç›®å½•ã€‚
SQL&gt; host;

2. æŸ¥çœ‹æŠ¥è¡¨ã€‚
:~&gt; ls
è¿”å›ä¿¡æ¯æ˜¾ç¤ºå¦‚ä¸‹ï¼š
ashrpt_1_0729_1920.html
----ç»“æŸ
</code></pre></div></div>

<h2 id="ä¸‰addmæ—¥å¿—å¼€å¯å’Œæå–æ“ä½œæ­¥éª¤">ä¸‰ã€ADDMæ—¥å¿—å¼€å¯å’Œæå–æ“ä½œæ­¥éª¤:</h2>
<h4 id="æ”¶é›†å®šæœŸå†…çš„æ•°æ®åº“çŠ¶æ€æ½œåœ¨çš„æ•°æ®åº“æ€§èƒ½ç“¶é¢ˆä»¥åŠå†…å»ºä¸“å®¶ç³»ç»Ÿç»™å‡ºçš„oracleæ€§èƒ½è°ƒä¼˜æ–¹æ³•å’Œæ•°æ®ç»Ÿè®¡åˆ†æ">æ”¶é›†å®šæœŸå†…çš„æ•°æ®åº“çŠ¶æ€ã€æ½œåœ¨çš„æ•°æ®åº“æ€§èƒ½ç“¶é¢ˆï¼Œä»¥åŠå†…å»ºä¸“å®¶ç³»ç»Ÿç»™å‡ºçš„Oracleæ€§èƒ½è°ƒä¼˜æ–¹æ³•å’Œæ•°æ®ç»Ÿè®¡åˆ†æã€‚</h4>

<h3 id="æ­¥éª¤-1-ä»¥oracleç”¨æˆ·ç™»å½•æ“ä½œç³»ç»Ÿ-2">æ­¥éª¤ 1 ä»¥oracleç”¨æˆ·ç™»å½•æ“ä½œç³»ç»Ÿã€‚</h3>
<h3 id="æ­¥éª¤-2-ç™»å½•æ•°æ®åº“-2">æ­¥éª¤ 2 ç™»å½•æ•°æ®åº“ã€‚</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>:~&gt; sqlplus / as sysdba; 
</code></pre></div></div>
<h3 id="æ­¥éª¤-3-ç”ŸæˆaddmæŠ¥è¡¨">æ­¥éª¤ 3 ç”ŸæˆaddmæŠ¥è¡¨ã€‚</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1. å¼€å§‹æ”¶é›†addmæŠ¥è¡¨ã€‚
SQL&gt; @?/rdbms/admin/addmrpt; 
å¯¹æŸäº›ç³»ç»Ÿï¼Œ@ç‰¹æ®Šå­—ç¬¦å‰é¢å¯èƒ½éœ€è¦è½¬ä¹‰å­—ç¬¦\ï¼Œæ‰èƒ½è¿è¡Œè¯¥å‘½ä»¤ã€‚è¯·è¿è¡Œå‘½ä»¤ï¼šSQL&gt; \@?/rdbms/admin/awrrpt.sql;
è¿”å›ä¿¡æ¯æ˜¾ç¤ºå¦‚ä¸‹ï¼š
Current Instance 
~~~~~~~~~~~~~~~~ 
 
   DB Id    DB Name      Inst Num Instance 
----------- ------------ -------- ------------ 
 1049289546 HUNAO               1 hunao 
......  
Listing the last 3 days of Completed Snapshots 
                                                        Snap 
Instance     DB Name        Snap Id    Snap Started    Level 
------------ ------------ --------- ------------------ ----- 
hunao        HUNAO             3311 28 Jul 2013 08:00      1 
                               ...... 
                               3315 28 Jul 2013 12:00      1 
                               3316 28 Jul 2013 13:00      1

2. æ ¹æ®Oracleåˆ—å‡ºçš„snap Idæç¤ºï¼Œè¾“å…¥èµ·å§‹snap Idå’Œç»“æŸsnap Idï¼Œæ”¶é›†ä¸¤ä¸ªæ—¶æ®µçš„æ•°æ®åº“æ€§èƒ½æ•°æ®ã€‚
ä¾‹å¦‚è¾“å…¥èµ·å§‹snap Idä¸º3311ï¼Œç»“æŸsnap Idä¸º3316ï¼Œè¿”å›ä¿¡æ¯å¦‚ä¸‹ï¼š
Specify the Begin and End Snapshot Ids 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
Enter value for begin_snap: 3311 --æŒ‡å®šå¼€å§‹snap id 
Begin Snapshot Id specified: 3316
 
Enter value for end_snap: 3311 --æŒ‡å®šç»“æŸsnap id 
End   Snapshot Id specified: 3316
 
Specify the Report Name 
...... 
Enter value for report_name:

3. è¾“å…¥æŠ¥è¡¨åï¼Œé»˜è®¤ä»¥snap Idå‘½åï¼Œå¯ä»¥ä¸è¾“å…¥ã€‚
å¦‚ä¸‹æ‰€ç¤ºä¸ºç”Ÿæˆçš„ADDMæŠ¥è¡¨æ ·ä¾‹ï¼š
Report written to addmrpt_1_3311_3316.txt
</code></pre></div></div>
<h3 id="æ­¥éª¤-4-å¦‚æœæ²¡æŒ‡å®šç›®å½•å’Œæ–‡ä»¶åç”Ÿæˆçš„addmæŠ¥è¡¨åœ¨å½“å‰ç›®å½•æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹">æ­¥éª¤ 4 å¦‚æœæ²¡æŒ‡å®šç›®å½•å’Œæ–‡ä»¶åï¼Œç”Ÿæˆçš„ADDMæŠ¥è¡¨åœ¨å½“å‰ç›®å½•ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹ã€‚</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1. å›åˆ°å½“å‰ç›®å½•ã€‚
SQL&gt; host;

2. æŸ¥çœ‹æŠ¥è¡¨ã€‚
:~&gt; ls
è¿”å›ä¿¡æ¯æ˜¾ç¤ºå¦‚ä¸‹ï¼š
addmrpt_1_3311_3316.txt
----ç»“æŸ
</code></pre></div></div>
:ET