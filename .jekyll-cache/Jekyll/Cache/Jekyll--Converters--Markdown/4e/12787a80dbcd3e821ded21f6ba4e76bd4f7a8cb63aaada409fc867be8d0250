I"ï<h4 id="è®°å½•è‡ªå·±çš„golangå­¦ä¹ ç¬”è®°">è®°å½•è‡ªå·±çš„Golangå­¦ä¹ ç¬”è®°</h4>

<h1 id="ä¸€golangå…³é”®å­—å’Œä»‹ç»">ä¸€ã€Golangå…³é”®å­—å’Œä»‹ç»</h1>
<h2 id="25ä¸ªå…³é”®å­—">25ä¸ªå…³é”®å­—:</h2>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>break     default      func     interface    select
case      defer        go       map          struct
chan      else         goto     package      switch
const     fallthrough  if       range        type
continue  for          import   return       var
</code></pre></div></div>
<h4 id="é’ˆå¯¹è‡ªå·±ä¸å¤ªç†Ÿæ‚‰çš„å…³é”®å­—è¯´æ˜ä¸‹è™½ç„¶ä»¥åç”¨ç€ä¼šç†Ÿæ‚‰ä½†æ˜¯æå‰äº†è§£ä¸æ˜¯åäº‹">é’ˆå¯¹è‡ªå·±ä¸å¤ªç†Ÿæ‚‰çš„å…³é”®å­—è¯´æ˜ä¸‹ï¼Œè™½ç„¶ä»¥åç”¨ç€ä¼šç†Ÿæ‚‰ï¼Œä½†æ˜¯æå‰äº†è§£ä¸æ˜¯åäº‹</h4>
<h3 id="break">break:</h3>
<p>è·³å‡ºå¾ªç¯</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>func main() {
    for i := 0; i &lt; 10; i++ {
        fmt.Println(i)
        if i == 6 {
            break
        }
    }
}
</code></pre></div></div>

<h3 id="switch-case-default">switch case default:</h3>
<p>switchåˆ†æ”¯æµç¨‹æ§åˆ¶è¯­å¥</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>func main() {
    //å†™æ³•1ï¼š
    switch i := 6; i {
    case 1, 3, 5, 7, 9:
        fmt.Println("å¥‡æ•°5")
    case 2, 4, 6, 8, 10:
        fmt.Println("å¶æ•°")
    default:
        fmt.Println("other", i)
    }

    //å†™æ³•2ï¼š
    finger := 2
    switch finger {
    case 1:
        fmt.Println("å¤§æ‹‡æŒ‡")
    case 2:
        fmt.Println("é£ŸæŒ‡")
    case 3:
        fmt.Println("ä¸­æŒ‡")
    case 4:
        fmt.Println("æ— åæŒ‡")
    case 5:
        fmt.Println("å°æŒ‡")
    default:
        fmt.Println("æ— æ•ˆçš„æ•°å­—")
    }

    //å†™æ³•3ï¼š
    age := 30
    switch {
    case age &lt; 24:
        fmt.Println("å­¦ä¹ é˜¶æ®µ")
    case age &gt;= 24 &amp;&amp; age &lt; 60:
        fmt.Println("å·¥ä½œé˜¶æ®µ")
    case age &gt; 60:
        fmt.Println("é€€ä¼‘é˜¶æ®µ")
    default:
        fmt.Println("æ´»ç€çœŸå¥½")
    }
}
</code></pre></div></div>

<h3 id="select">select:</h3>
<p>A â€œselectâ€ statement chooses which of a set of possible send or receive operations will proceed. It looks similar to a â€œswitchâ€ statement but with the cases all referring to communication operations.<br />
ä¸€ä¸ªselectè¯­å¥ç”¨æ¥é€‰æ‹©å“ªä¸ªcaseä¸­çš„å‘é€æˆ–æ¥æ”¶æ“ä½œå¯ä»¥è¢«ç«‹å³æ‰§è¡Œã€‚å®ƒç±»ä¼¼äºswitchè¯­å¥ï¼Œä½†æ˜¯å®ƒçš„caseæ¶‰åŠåˆ°channelæœ‰å…³çš„I/Oæ“ä½œã€‚</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>//selectåŸºæœ¬ç”¨æ³•
select {
case &lt;- chan1:
// å¦‚æœchan1æˆåŠŸè¯»åˆ°æ•°æ®ï¼Œåˆ™è¿›è¡Œè¯¥caseå¤„ç†è¯­å¥
case chan2 &lt;- 1:
// å¦‚æœæˆåŠŸå‘chan2å†™å…¥æ•°æ®ï¼Œåˆ™è¿›è¡Œè¯¥caseå¤„ç†è¯­å¥
default:
// å¦‚æœä¸Šé¢éƒ½æ²¡æœ‰æˆåŠŸï¼Œåˆ™è¿›å…¥defaultå¤„ç†æµç¨‹
}
</code></pre></div></div>

<h3 id="defer">defer:</h3>
<p>A â€œdeferâ€ statement invokes a function whose execution is deferred to the moment the surrounding function returns, either because the surrounding function executed a return statement, reached the end of its function body, or because the corresponding goroutine is panicking.<br />
ä¸€ä¸ªdeferè¯­å¥åœ¨å‡½æ•°è¿”å›ã€å‡½æ•°ç»“æŸæˆ–è€…å¯¹åº”çš„goroutineå‘ç”Ÿpanicçš„æ—¶å€™deferå°±ä¼šæ‰§è¡Œã€‚<br />
åœ¨golangä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨deferè¯­å¥æ¥è¿›è¡Œä¸€äº›é”™è¯¯å¤„ç†å’Œæ”¶å°¾å·¥ä½œï¼Œå®ƒçš„ä½œç”¨ç±»ä¼¼javaé‡Œé¢finallyå…³é”®å­—çš„ä½œç”¨</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>func CopyFile(dstName, srcName string) (written int64, err error) {
    src, err := os.Open(srcName)
    if err != nil {
        return
    }
    defer src.Close()

    dst, err := os.Create(dstName)
    if err != nil {
        return
    }
    defer dst.Close()

    // other codes
    return io.Copy(dst, src)
}
</code></pre></div></div>
<p>åˆ—ä¸¾2ä¸ªç®€å•demo:<br />
demo1: ç†è§£å»¶è¿Ÿ</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>func main() {
	// demo1
	defer fmt.Println("hello")
	fmt.Println("world")
}

--------------------------------
world
hello

Process finished with exit code 0
</code></pre></div></div>
<p>demo2: ç†è§£deferã€returnã€è¿”å›å€¼çš„é¡ºåº<br />
1ã€å¤šä¸ªdeferçš„æ‰§è¡Œé¡ºåºä¸ºâ€œåè¿›å…ˆå‡ºâ€ï¼›<br />
2ã€deferã€returnã€è¿”å›å€¼ä¸‰è€…çš„æ‰§è¡Œé€»è¾‘åº”è¯¥æ˜¯ï¼šreturnæœ€å…ˆæ‰§è¡Œï¼Œreturnè´Ÿè´£å°†ç»“æœå†™å…¥è¿”å›å€¼ä¸­ï¼›æ¥ç€deferå¼€å§‹æ‰§è¡Œä¸€äº›æ”¶å°¾å·¥ä½œï¼›æœ€åå‡½æ•°æºå¸¦å½“å‰è¿”å›å€¼é€€å‡ºã€‚</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>func main() {
	// demo2
	fmt.Println("c return:", *(c())) // æ‰“å°ç»“æœä¸º c return: 2
}

func c() *int {
	var i int
	defer func() {
		i++
		fmt.Println("c defer2:", i) // æ‰“å°ç»“æœä¸º c defer: 2
	}()
	defer func() {
		i++
		fmt.Println("c defer1:", i) // æ‰“å°ç»“æœä¸º c defer: 1
	}()
	return &amp;i
}

---------------------------------
c defer1: 1
c defer2: 2
c return: 2

Process finished with exit code 0
</code></pre></div></div>
:ET